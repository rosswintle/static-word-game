<?php extend('../templates/main.html', ['title' => 'Home Page']) ?>

<?php
// Page content here
// To include partials use:
// includePart('../parts/some-part.html', ['param' => 'value'])
?>

<h1 class="mt-8 text-6xl text-center">Static Scrabble!</h1>

<?php if (ENVIRONMENT === 'DEVELOPMENT') : ?>
<h2 class="mt-4 text-2xl text-center">Sssh, we're only testing!</h2>
<?php endif; ?>

<div x-data="scrabble" class="w-full max-w-4xl mx-auto">

    <div>
        <input name="acrossFlag" type="text" x-model="newAcrossFlag">
    </div>

    <div>
        <input name="x" type="number" min=0 max=15 x-model="newX">
    </div>

    <div>
        <input name="y" type="number" min=0 max=15 x-model="newY">
    </div>

    <div>
        <input name="word" type="text" x-model="newWord">
    </div>
    <button @click="addNewWord">Add</button>

    <h3>Moves</h3>
    <ul>
        <template x-for="(move, index) in game.moves" :key="`move-${index}`">
            <li>
                Across: <span x-text="(Move.decodeFromBigInt(move.encodeAsBigint())).acrossFlag"></span>
                | X: <span x-text="(Move.decodeFromBigInt(move.encodeAsBigint())).x"></span>
                | Y: <span x-text="(Move.decodeFromBigInt(move.encodeAsBigint())).y"></span>
                | Word: <span x-text="(Move.decodeFromBigInt(move.encodeAsBigint())).word"></span>
            </li>
        </template>
    </ul>
    <!-- Encoded move: <span x-text="move.encodeAsBigint().toString()"></span><br>
    Decoded move: Across? <span x-text="(Move.decodeFromBigInt(move.encodeAsBigint())).acrossFlag"></span><br>
    X: <span x-text="(Move.decodeFromBigInt(move.encodeAsBigint())).x"></span><br>
    Y: <span x-text="(Move.decodeFromBigInt(move.encodeAsBigint())).y"></span><br>
    Word: <span x-text="(Move.decodeFromBigInt(move.encodeAsBigint())).word"></span><br>
    <br>
    ASCII: <span x-text="move.encodeAsBigint().toAscii()"></span><br>
    From ASCII (Should be same as Encoded): <span
        x-text="CodedInt.fromAscii(move.encodeAsBigint().toAscii()).toString()"></span><br>
    <br> -->
    Game Base64: <code x-text="game.encodeAsBigint().toBase64()"></code><br>
    <!-- From Base64 (Should be same as Encoded): <span
        x-text="CodedInt.fromBase64(move.encodeAsBigint().toBase64()).toString()"></span><br> -->
</div>

<?php endExtend(); ?>
